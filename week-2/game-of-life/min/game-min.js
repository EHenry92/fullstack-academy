var gameOfLife={width:12,height:12,stepInterval:1e3,isPlaying:!1,createAndShowBoard:function(){for(var t=document.createElement("tbody"),e="",a=0;a<this.height;a++){e+="<tr id='row+"+a+"'>";for(var s=0;s<this.width;s++)e+="<td data-status='dead' id='"+s+"-"+a+"'></td>";e+="</tr>"}t.innerHTML=e;var i=document.getElementById("board");i.appendChild(t),this.board=i,this.setupBoardEvents()},forEachCell:function(t){for(var e=0;e<this.height;e++)for(var a=0;a<this.width;a++)t(document.getElementById(e+"-"+a),e,a);for(var s=document.getElementsById("board").getElementsByTagName("td"),i=0;i<s.length;i++){var n=s[i].id.split("-"),e=parseInt(n[0]),a=parseInt(n[1]);t(s[i])}},setupBoardEvents:function(){document.getElementById("step_btn").onclick=this.step.bind(this),document.getElementById("play_btn").onclick=this.enableAutoPlay.bind(this),document.getElementById("reset_btn").onclick=this.reset.bind(this),document.getElementById("clear_btn").onclick=this.clear.bind(this);var t=function(){"dead"===this.getAttribute("data-status")?this.setAttribute({"data-status":"alive","class":"alive"}):this.setAttribute({"data-status":"dead","class":"dead"})},e=function(){"dead"===this.getAttribute("data-status")?(this.className="alive",this.setAttribute("data-status","alive")):(this.className="dead",this.setAttribute("data-status","dead"))};this.forEachCell(function(t,a,s){t.onclick=e}),document.getElementById("step_btn").onclick=this.step.bind(this)},step:function(){var t=[];this.forEachCell(function(e,a,s){for(var i=[],n=a-1;a+1>n;n++)for(var d=s-1;s+1>d;d++)if(a!==n||s!==d){var r=document.getElementById(n+"-"+d);r&&i.push(r),console.log(i)}var l=i.reduce(function(t,e){var a="alive"===e.getAttribute("data-status")?1:0;return currentSum+a},0);"alive"===e.getAttribute("data-status")&&(2>l||l>3?t.push(e):3===l&&t.push(e))}),t.forEach(function(t){"dead"===t.getAttribute("data-status")?(t.className="alive",t.setAttribute("data-status","alive")):(t.className="dead",t.setAttribute("data-status","dead"))})},clear:function(){var t=function(){"alive"===this.getAttribute("data-status")&&(this.className="dead",this.setAttribute("data-status","dead"))};this.forEachCell(function(e,a,s){t.apply(e)})},enableAutoPlay:function(){this.isPlaying?this.pause():this.play()},play:function(){this.isPlaying=!0;var t=document.getElementById("play_btn");t.textContent="Pause",t.classList.add("btn-danger"),t.classList.remove("btn-primary"),this.intervalID=setInterval(this.step.bind(this),this.stepInterval)},pause:function(){this.isPlaying=!1;var t=document.getElementById("play_btn");t.textContent="Play",t.classList.add("btn-primary"),t.classList.remove("btn-danger"),clearInterval(this.intervalID)}};gameOfLife.createAndShowBoard();